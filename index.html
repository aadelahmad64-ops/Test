<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Micro Expressions Test</title>
<style>
body { margin:0; font-family:Arial; background:#000; color:#FFD700; display:flex; flex-direction:column; align-items:center; padding:20px; }
h1 { text-align:center; margin-bottom:20px; }
.container { max-width:700px; width:100%; display:flex; flex-direction:column; align-items:center; }
.question { margin:20px 0; padding:15px; border:2px solid #FFD700; border-radius:10px; width:100%; }
.options button { display:block; width:100%; margin:5px 0; padding:10px; background:#000; color:#FFD700; border:1px solid #FFD700; border-radius:6px; cursor:pointer; font-size:16px; }
.options button:hover { background:#FFD700; color:#000; }
#feedback { margin-top:10px; font-weight:bold; }
#startBtn, #nextBtn { margin-top:20px; padding:10px 20px; font-size:18px; cursor:pointer; background:#FFD700; color:#000; border:none; border-radius:8px;}
#nextBtn { display:none; }
#difficulty { margin-bottom:15px; display:flex; justify-content:center; gap:10px; align-items:center; }
#testSection, #resultSection { display:none; }
img.expression-img { width:200px; height:200px; object-fit:cover; margin:10px auto; border:2px solid #FFD700; border-radius:10px; }
</style>
</head>
<body>
<div class="container">
<h1>Micro Expressions</h1>
<div id="difficulty">
  <button id="startBtn">Start Test</button>
  <label>Select Difficulty:</label>
  <select id="levelSelect">
    <option value="2000">Easy</option>
    <option value="1000">Medium</option>
    <option value="500">Hard</option>
  </select>
</div>
<div id="testSection">
  <div id="questionContainer" class="question"></div>
  <div id="feedback"></div>
  <button id="nextBtn">Next</button>
</div>
<div id="resultSection">
  <h2>Test Complete!</h2>
  <p id="score"></p>
  <p id="evaluation"></p>
  <button onclick="location.reload()">Restart Test</button>
</div>
</div>
<script>
const theoryQuestions = [
  { q: "You ask someone a question and they briefly raise one eyebrow. What does this indicate?", options:["Skepticism","Happiness","Fear","Surprise"], answer:0, explanation:"Raising one eyebrow is typically a sign of skepticism or doubt." },
  { q: "A person suddenly shows tightened lips and staring eyes during conversation. What emotion might this show?", options:["Anger","Happiness","Sadness","Disgust"], answer:0, explanation:"Tightened lips and staring eyes indicate anger." },
  { q: "Quickly lifting the inner corners of the eyebrows can signal which emotion?", options:["Fear","Surprise","Sadness","Contempt"], answer:2, explanation:"Inner eyebrow lift is associated with sadness." }
];
const practiceQuestions = [
  { img:"https://i.imgur.com/5XjP1h1.jpg", answer:"Anger", explanation:"This facial expression shows clear signs of anger." },
  { img:"https://i.imgur.com/W5L8FqD.jpg", answer:"Fear", explanation:"This facial expression depicts fear." },
  { img:"https://i.imgur.com/7DlQ3fZ.jpg", answer:"Happiness", explanation:"This expression represents happiness." },
  { img:"https://i.imgur.com/3V6kP4s.jpg", answer:"Sadness", explanation:"This expression represents sadness." },
  { img:"https://i.imgur.com/NJd9e4K.jpg", answer:"Surprise", explanation:"This expression represents surprise." },
  { img:"https://i.imgur.com/4oFxGk3.jpg", answer:"Disgust", explanation:"This expression represents disgust." },
  { img:"https://i.imgur.com/Zq3VnXt.jpg", answer:"Contempt", explanation:"This expression represents contempt." }
];
let currentSection = 'theory';
let currentIndex = 0;
let score = 0;
let timer = null;
let practiceTime = 2000;
const startBtn = document.getElementById('startBtn');
const testSection = document.getElementById('testSection');
const questionContainer = document.getElementById('questionContainer');
const feedback = document.getElementById('feedback');
const nextBtn = document.getElementById('nextBtn');
const resultSection = document.getElementById('resultSection');
const scoreDisplay = document.getElementById('score');
const evaluation = document.getElementById('evaluation');
const levelSelect = document.getElementById('levelSelect');
const difficultyDiv = document.getElementById('difficulty');
startBtn.onclick = () => {
  practiceTime = parseInt(levelSelect.value);
  difficultyDiv.style.display = 'none';
  testSection.style.display = 'block';
  showQuestion();
};
nextBtn.onclick = () => {
  feedback.innerHTML = '';
  currentIndex++;
  if(currentSection==='theory' && currentIndex >= theoryQuestions.length){
    currentSection = 'practice';
    currentIndex = 0;
  }
  if(currentSection==='practice' && currentIndex >= practiceQuestions.length){
    showResult();
  } else {
    showQuestion();
  }
};
function showQuestion(){
  nextBtn.style.display='none';
  feedback.innerHTML = '';
  questionContainer.innerHTML = '';
  if(currentSection==='theory'){
    const qObj = theoryQuestions[currentIndex];
    questionContainer.innerHTML = `<p>${qObj.q}</p>`;
    const optionsDiv = document.createElement('div');
    optionsDiv.className='options';
    qObj.options.forEach((opt,i)=>{
      const btn = document.createElement('button');
      btn.textContent=opt;
      btn.onclick=()=>checkAnswer(i);
      optionsDiv.appendChild(btn);
    });
    questionContainer.appendChild(optionsDiv);
  } else if(currentSection==='practice'){
    const qObj = practiceQuestions[currentIndex];
    const img = document.createElement('img');
    img.src = qObj.img;
    img.className='expression-img';
    questionContainer.appendChild(img);
    const optionsDiv = document.createElement('div');
    optionsDiv.className='options';
    ["Anger","Disgust","Fear","Surprise","Sadness","Happiness","Contempt"].forEach(opt=>{
      const btn = document.createElement('button');
      btn.textContent=opt;
      btn.onclick=()=>checkAnswer(opt);
      optionsDiv.appendChild(btn);
    });
    setTimeout(()=>{
      questionContainer.appendChild(optionsDiv);
    }, practiceTime);
  }
}
function checkAnswer(selected){
  nextBtn.style.display='inline-block';
  if(currentSection==='theory'){
    const qObj = theoryQuestions[currentIndex];
    if(selected===qObj.answer){
      feedback.innerHTML=`‚úÖ Correct! <br>${qObj.explanation}`;
      score++;
    } else {
      feedback.innerHTML=`‚ùå Wrong! Correct answer: ${qObj.options[qObj.answer]}<br>${qObj.explanation}`;
    }
  } else if(currentSection==='practice'){
    clearTimeout(timer);
    const qObj = practiceQuestions[currentIndex];
    if(selected===qObj.answer){
      feedback.innerHTML=`‚úÖ Correct! <br>${qObj.explanation}`;
      score++;
    } else {
      feedback.innerHTML=`‚ùå Wrong! Correct answer: ${qObj.answer}<br>${qObj.explanation}`;
    }
  }
}
function showResult(){
  testSection.style.display='none';
  resultSection.style.display='block';
  scoreDisplay.textContent=`Your Score: ${score} / ${theoryQuestions.length + practiceQuestions.length}`;
  const percent = (score/(theoryQuestions.length + practiceQuestions.length))*100;
  if(percent>=80) evaluation.textContent="Excellent üëè";
  else if(percent>=50) evaluation.textContent="Good üôÇ, keep practicing";
  else evaluation.textContent="Needs more training üßê";
}
</script>
</body>
</html>
